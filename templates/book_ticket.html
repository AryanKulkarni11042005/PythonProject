{% extends 'base.html' %}

{% block content %}
    <h2>Book a Ticket</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class="flashes">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
    <form method="POST" action="{{ url_for('book_ticket') }}" class="book">
        <input type="hidden" name="train_id" value="{{ request.args.get('train_id') }}">
        <input type="hidden" name="travel_date" value="{{ request.args.get('travel_date') }}">
        <label for="name">Passenger Name:</label>
        <input type="text" id="name" name="name" required>
        <br>
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required>
        <br>
        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <br>
        <label for="window_seat_preference">Window Seat Preference:</label>
        <input type="checkbox" id="window_seat_preference" name="window_seat_preference">
        <br>
        <label for="coach">Coach Type:</label>
        <select id="coach" name="coach" required>
            <option value="AC">AC</option>
            <option value="NON AC">NON AC</option>
            <option value="General">General</option>
        </select>
        <br>
        <label for="no_of_adults">Number of Adults:</label>
        <input type="number" id="no_of_adults" name="no_of_adults" required>
        <br>
        <label for="no_of_children">Number of Children:</label>
        <input type="number" id="no_of_children" name="no_of_children" required>
        <br>
        <button type="submit">Proceed to Payment</button>
    </form>
{% endblock %}